<!-- dollarId: issue.item,v 1.4 2001/08/03 01:19:43 richard Exp dollar-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>
Issue 450: Searching at /people/ for someone's username should let you find them - Roundup issue tracker

</title>
<link rel="stylesheet" type="text/css" href="@@file/style.css">
<meta http-equiv="Content-Type"
      content="text/html; charset=utf-8" />

<script type="text/javascript">
submitted = false;
function submit_once() {
    if (submitted) {
        alert("Your request is being processed.\nPlease be patient.");
        event.returnValue = 0;    // work-around for IE
        return 0;
    }
    submitted = true;
    return 1;
}

function help_window(helpurl, width, height) {
    HelpWin = window.open('https://openhatch.org/bugs/' + helpurl, 'RoundupHelpWindow', 'scrollbars=yes,resizable=yes,toolbar=no,height='+height+',width='+width);
}
</script>



</head>
<body class="body">

<table class="body">

<tr>
 <td class="page-header-left"><a href="/" title="OpenHatch"><img src="/static/images/the-logo-bluegreen-87px.png" width="87" height="60" alt="openhatch" /></a></td>
 <td class="page-header-top">
   <div id="body-title">
     <h2>
 
 
 Issue450
 
</h2>
   </div>
   <div id="searchbox">
     <form method="GET" action="issue">
       <input type="hidden" name="@columns"
              value="id,activity,title,creator,assignedto,status,milestone" />
       <input type="hidden" name="@sort" value="activity" />
       <input type="hidden" name="@group" value="priority" />
       <input id="search-text" name="@search_text" size="10" />
       <input type="submit" id="submit" name="submit"
              value="Search" />
     </form>
  </div>
 </td>
</tr>

<tr>
 <td rowspan="2" valign="top" class="sidebar">
  

  <p class="classblock">
    <b>This month: 0.13.10</b><br>
    <a href="/wiki/0.13.10">Goals (in wiki)</a><br>
    <a href="milestone19?@template=open">Bug list</a>
  </p>

  <form method="POST" action="https://openhatch.org/bugs/">
   <p class="classblock">
    <b>Issues</b><br>
    
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,status,milestone&amp;assignedto=-1&amp;@group=priority&amp;@dispname=Show Unassigned&amp;@filter=status,assignedto&amp;@pagesize=50&amp;@startwith=0">Show Unassigned</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@dispname=Show All&amp;@filter=status&amp;@group=priority&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@pagesize=50&amp;@startwith=0">Show All</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@dispname=Show Bitesized&amp;keyword=1&amp;@group=priority&amp;@filter=status,keyword&amp;@pagesize=50&amp;@startwith=0">Show Bitesized</a><br>
    <a href="issue?@template=search">Search</a><br>
    <input type="submit" class="form-small"
           value="Show issue:"><input class="form-small" size="4" type="text" name="@number">
    <input type="hidden" name="@type" value="issue">
    <input type="hidden" name="@action" value="show">
   </p>
  </form>

  

  

  

   <p class="userblock">
    <b>Login</b><br>
    <a href="https://openhatch.org/account/login/?next=/bugs/issue450">Click here to login.</a>
   </p>

  
  <p class="userblock">
   <b>Help</b><br>
   <a href="http://www.roundup-tracker.org/docs.html">Bug tracker docs</a>
  </p>
 </td>
 <td>
  
  
 </td>
</tr>
<tr>
 <td class="content">





<div>

<form method="POST" name="itemSynopsis"
      onsubmit="return submit_once()"
      enctype="multipart/form-data" action="issue450">

<table class="form">
<tr>
 <th class="required">Title</th>
 <td colspan="3">Searching at /people/ for someone's username should let you find them</td>
</tr>

<tr>
 <th>Milestone</th>
 <td>later</td>
 <th class="required">Priority</th>
 <td>bug</td>
</tr>

<tr>
 <th>Waiting On</th>
 <td>
  
  
  
 </td>
 <th>Status</th>
 <td>resolved</td>
</tr>

<tr>
 <th>Superseder</th>
 <td>
  
  
  
 </td>
 <th>Nosy List</th>
 <td>
  jacquiesue, palhmbs, paulproteus
  <br>
 </td>
</tr>

<tr>
 <th>Assigned To</th>
 <td>jacquiesue</td>
 <th>Keywords</th>
 <td>
  bitesize
  
 </td>
</tr>







</table>
</form>



<p>Created on <b>2011-06-15.18:26:17</b> by <b>paulproteus</b>, last changed <b>2012-01-23.20:58:53</b> by <b>paulproteus</b>.</p>

<table class="files">
 <tr><th colspan="5" class="header">Files</th></tr>
 <tr>
  <th>File name</th>
  <th>Uploaded</th>
  <th>Type</th>
  <th>Edit</th>
  <th>Remove</th>
 </tr>
 <tr>
  <td>
   <a href="file456/0001-Updated-the-default-case-for-people-search-AllTagsQu.patch">0001-Updated-the-default-case-for-people-search-AllTagsQu.patch</a>
  </td>
  <td>
   <span>jacquiesue</span>,
   <span>2012-01-23.03:49:43</span>
  </td>
  <td>application/octet-stream</td>
  <td>
  </td>
  <td>
   
  </td>
 </tr>
 <tr>
  <td>
   <a href="file457/0002-remove-invalid-comment-in-file.patch">0002-remove-invalid-comment-in-file.patch</a>
  </td>
  <td>
   <span>jacquiesue</span>,
   <span>2012-01-23.03:59:29</span>
  </td>
  <td>application/octet-stream</td>
  <td>
  </td>
  <td>
   
  </td>
 </tr>
</table>

<table class="messages">
 <tr><th colspan="4" class="header">Messages</th></tr>
 
  <tr>
   <th><a href="msg2907">msg2907 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2012-01-23.20:58:49</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Some feedback on these patches:

It's good to separate style fixes into separate commits. I'm glad you fixed my
mis-spelling of the word "quotation", but it's easier to review if that is its
own separate patch.

In general, it's usually pretty easy for me to review a series of patches; try
to ensure that each one is somehow a coherent change.

git on my computer complains about some lines of yours that have a " " character
(space) as the last character on the line.

I didn't realize that one could use the | character to combine QuerySet objects
like that. That's awesome.

Your test is also of good quality! I'm glad you test the case-insensitivity. I
generally prefer to make assertions about the contents of a list, but since you
have a QuerySet, it's a little harder. For that reason, you could convert it to
a list like:

self.assertEqual([User.objects.get(username='spinoza')], list(atq_filter_spinoza))

The way you have it is fine, so I'm not going to change it.

Also, you have what seems to be a debugging print left commented-out at the top
of the
PeopleFinderTagQueryTests.test_all_tags_insensitive_case_search_multiple_names
method. I'll remove that, although it's a great thing to have while testing. I
also like to do "import pdb; pdb.set_trace()" to break into a debugger when
running my own tests.

I've pushed this, and will deploy it once it passes the Hudson automated testing
at <a href="http://linode2.openhatch.org:8080/">http://linode2.openhatch.org:8080/</a> . Yay -- marking as 'resolved'!</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2905">msg2905 (view)</a></th>
   <th>Author: jacquiesue</th>
   <th>Date: 2012-01-23.03:59:29</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>forgot to delete a line, adding patch for that</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2904">msg2904 (view)</a></th>
   <th>Author: jacquiesue</th>
   <th>Date: 2012-01-23.03:49:43</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Updated the people search. 

One word in the search text will search: username, tags, first name, and last
name, then return all matches.

More than one word in the search text will search: tags (as one string, e.g.
"regular expressions"), first name (for each word), and last name (for each
word) then return all the matches.

The searches are case insensitive.

Updated and ran test: python manage.py test profile.PeopleFinderTagQueryTests,
also ran python manage.py test profile.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2154">msg2154 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2011-07-03.03:29:17</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Realistically, this depends on <a href="issue89">issue89</a> and 
<a href="http://lists.openhatch.org/pipermail/devel/2011-July/002150.html">http://lists.openhatch.org/pipermail/devel/2011-July/002150.html</a>

Un-marking as bitesize.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2112">msg2112 (view)</a></th>
   <th>Author: palhmbs</th>
   <th>Date: 2011-06-23.21:14:48</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Mkman is taking a look at this. 

He asked for some help on IRC, so I pointed him at 
mysite/profile/templates/profile/people.html
mysite/profile/templates/profile/search_people.html

I also think that mysite/profile/controllers.py is relevant.

Hope this helps track down the bogey.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2077">msg2077 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2011-06-15.18:26:15</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Right now, when you search on /people/ for a username, you actually can't find a
person. We only let you search by metadata like project and people's tags.

That's kind of silly, and ProfSheinRIT on IRC ran into this problem. So here's a
bug for it, targeted for closure during June (0.11.06).</pre>
   </td>
  </tr>
 
</table>

<table class="history"><tr><th colspan="4" class="header">
History
</th></tr><tr>
<th>Date</th>
<th>User</th>
<th>Action</th>
<th>Args</th>
</tr>
<tr><td>2012-01-23&nbsp;20:58:53</td><td>paulproteus</td><td>set</td><td>status: need-review -> resolved<br />messages:
  + <a href="msg2907">msg2907</a></td></tr>
<tr><td>2012-01-23&nbsp;03:59:30</td><td>jacquiesue</td><td>set</td><td>files:
  + <a href="file457">0002-remove-invalid-comment-in-file.patch</a><br />messages:
  + <a href="msg2905">msg2905</a></td></tr>
<tr><td>2012-01-23&nbsp;03:49:46</td><td>jacquiesue</td><td>set</td><td>status: chatting -> need-review<br />assignedto: <a href="user298">jacquiesue</a><br />messages:
  + <a href="msg2904">msg2904</a><br />files:
  + <a href="file456">0001-Updated-the-default-case-for-people-search-AllTagsQu.patch</a><br />nosy:
  + <a href="user298">jacquiesue</a></td></tr>
<tr><td>2011-11-24&nbsp;19:43:29</td><td>paulproteus</td><td>set</td><td>blockers:
  - <a href="issue89">Ditch haystack and rewrite people search code to use MySQL queries</a></td></tr>
<tr><td>2011-07-03&nbsp;03:29:17</td><td>paulproteus</td><td>set</td><td>blockers:
  + <a href="issue89">Ditch haystack and rewrite people search code to use MySQL queries</a><br />messages:
  + <a href="msg2154">msg2154</a></td></tr>
<tr><td>2011-07-02&nbsp;20:14:16</td><td>palhmbs</td><td>set</td><td>status: in-progress -> chatting<br />milestone: <a href="milestone9">0.11.06</a> -> <a href="milestone1">later</a></td></tr>
<tr><td>2011-07-01&nbsp;15:52:15</td><td>Mkman</td><td>set</td><td>assignedto: <a href="user72">Mkman</a> -> (no value)<br />nosy:
  - <a href="user72">Mkman</a></td></tr>
<tr><td>2011-06-23&nbsp;21:15:00</td><td>palhmbs</td><td>set</td><td>status: chatting -> in-progress</td></tr>
<tr><td>2011-06-23&nbsp;21:14:49</td><td>palhmbs</td><td>set</td><td>status: unread -> chatting<br />assignedto: <a href="user72">Mkman</a><br />messages:
  + <a href="msg2112">msg2112</a><br />nosy:
  + <a href="user42">palhmbs</a>, <a href="user72">Mkman</a></td></tr>
<tr><td>2011-06-15&nbsp;18:26:17</td><td>paulproteus</td><td>create</td><td></td></tr>
</table>

</div>

</td>
</tr>

</table>



</body>
</html>

<!-- SHA: cef943195fefd743431d22c020eef27edd6255e1 -->
