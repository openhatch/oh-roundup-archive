<!-- dollarId: issue.item,v 1.4 2001/08/03 01:19:43 richard Exp dollar-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>
Issue 780: When blog posts hit Facebook, they have WORDPRESS_TITLE all over them - Roundup issue tracker

</title>
<link rel="stylesheet" type="text/css" href="@@file/style.css">
<meta http-equiv="Content-Type"
      content="text/html; charset=utf-8" />

<script type="text/javascript">
submitted = false;
function submit_once() {
    if (submitted) {
        alert("Your request is being processed.\nPlease be patient.");
        event.returnValue = 0;    // work-around for IE
        return 0;
    }
    submitted = true;
    return 1;
}

function help_window(helpurl, width, height) {
    HelpWin = window.open('https://openhatch.org/bugs/' + helpurl, 'RoundupHelpWindow', 'scrollbars=yes,resizable=yes,toolbar=no,height='+height+',width='+width);
}
</script>



</head>
<body class="body">

<table class="body">

<tr>
 <td class="page-header-left"><a href="/" title="OpenHatch"><img src="/static/images/the-logo-bluegreen-87px.png" width="87" height="60" alt="openhatch" /></a></td>
 <td class="page-header-top">
   <div id="body-title">
     <h2>
 
 
 Issue780
 
</h2>
   </div>
   <div id="searchbox">
     <form method="GET" action="issue">
       <input type="hidden" name="@columns"
              value="id,activity,title,creator,assignedto,status,milestone" />
       <input type="hidden" name="@sort" value="activity" />
       <input type="hidden" name="@group" value="priority" />
       <input id="search-text" name="@search_text" size="10" />
       <input type="submit" id="submit" name="submit"
              value="Search" />
     </form>
  </div>
 </td>
</tr>

<tr>
 <td rowspan="2" valign="top" class="sidebar">
  

  <p class="classblock">
    <b>This month: 0.13.10</b><br>
    <a href="/wiki/0.13.10">Goals (in wiki)</a><br>
    <a href="milestone19?@template=open">Bug list</a>
  </p>

  <form method="POST" action="https://openhatch.org/bugs/">
   <p class="classblock">
    <b>Issues</b><br>
    
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,status,milestone&amp;assignedto=-1&amp;@group=priority&amp;@dispname=Show Unassigned&amp;@filter=status,assignedto&amp;@pagesize=50&amp;@startwith=0">Show Unassigned</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@dispname=Show All&amp;@filter=status&amp;@group=priority&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@pagesize=50&amp;@startwith=0">Show All</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@dispname=Show Bitesized&amp;keyword=1&amp;@group=priority&amp;@filter=status,keyword&amp;@pagesize=50&amp;@startwith=0">Show Bitesized</a><br>
    <a href="issue?@template=search">Search</a><br>
    <input type="submit" class="form-small"
           value="Show issue:"><input class="form-small" size="4" type="text" name="@number">
    <input type="hidden" name="@type" value="issue">
    <input type="hidden" name="@action" value="show">
   </p>
  </form>

  

  

  

   <p class="userblock">
    <b>Login</b><br>
    <a href="https://openhatch.org/account/login/?next=/bugs/issue780">Click here to login.</a>
   </p>

  
  <p class="userblock">
   <b>Help</b><br>
   <a href="http://www.roundup-tracker.org/docs.html">Bug tracker docs</a>
  </p>
 </td>
 <td>
  
  
 </td>
</tr>
<tr>
 <td class="content">





<div>

<form method="POST" name="itemSynopsis"
      onsubmit="return submit_once()"
      enctype="multipart/form-data" action="issue780">

<table class="form">
<tr>
 <th class="required">Title</th>
 <td colspan="3">When blog posts hit Facebook, they have WORDPRESS_TITLE all over them</td>
</tr>

<tr>
 <th>Milestone</th>
 <td></td>
 <th class="required">Priority</th>
 <td>bug</td>
</tr>

<tr>
 <th>Waiting On</th>
 <td>
  
  
  
 </td>
 <th>Status</th>
 <td>resolved</td>
</tr>

<tr>
 <th>Superseder</th>
 <td>
  
  
  
 </td>
 <th>Nosy List</th>
 <td>
  paulproteus, vu2srk
  <br>
 </td>
</tr>

<tr>
 <th>Assigned To</th>
 <td></td>
 <th>Keywords</th>
 <td>
  
  
 </td>
</tr>







</table>
</form>



<p>Created on <b>2012-11-01.20:39:49</b> by <b>paulproteus</b>, last changed <b>2012-11-06.23:20:35</b> by <b>paulproteus</b>.</p>



<table class="messages">
 <tr><th colspan="4" class="header">Messages</th></tr>
 
  <tr>
   <th><a href="msg3487">msg3487 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2012-11-06.23:20:33</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Fixed, as evidenced at <a href="https://www.facebook.com/openhatch/posts/433499116705218">https://www.facebook.com/openhatch/posts/433499116705218</a>

Yay!</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3485">msg3485 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2012-11-05.19:01:48</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>You can see at <a href="https://developers.facebook.com/tools/debug/og/object?">https://developers.facebook.com/tools/debug/og/object?</a>
q=https%3A%2F%2Fopenhatch.org%2Fblog%2F2012%2F that , with my changes to 
<a href="https://github.com/paulproteus/oh-wordpress-theme">https://github.com/paulproteus/oh-wordpress-theme</a> and corresponding changes to oh-
mainline &lt;<a href="https://github.com/openhatch/oh-">https://github.com/openhatch/oh-</a>
mainline/commit/b776a189f7e695b690751c273723115d1bf049cd&gt; the debug output is 
happy.

Also, you can see that now at e.g. <a href="https://openhatch.org/blog/2012/getting-">https://openhatch.org/blog/2012/getting-</a>
students-involved-in-open-source-at-johns-hopkins/ the &lt;link rel="canonical"&gt; 
points to the page in question, not to the theme stub.

vu2srk, thanks for pushing this forward! I'll leave it 'need-review' until we make 
another post and can test that Facebook handled it properly. Once we make a blog 
post, the proof will be in the pudding.

Also, this Facebook issue identified a important issue in our theme, so I'm glad to 
see that it was a vendor-agnostic issue in our code.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3484">msg3484 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2012-11-05.18:10:26</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Oh, I think I found the problem:


        &lt;link rel="canonical" href="<a href="https://openhatch.org/+theme-">https://openhatch.org/+theme-</a>
stubs/wordpress/index" /&gt;

in pages e.g. view-source:<a href="https://openhatch.org/blog/2012/getting-students-">https://openhatch.org/blog/2012/getting-students-</a>
involved-in-open-source-at-johns-hopkins/

<a href="https://developers.facebook.com/tools/debug/og/object?">https://developers.facebook.com/tools/debug/og/object?</a>
q=https%3A%2F%2Fopenhatch.org%2Fblog%2F2012%2Fgetting-students-involved-in-open-
source-at-johns-hopkins%2F is a useful lint too.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3483">msg3483 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2012-11-05.17:43:34</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Thank you for these thoughts!

* Can we use the HTML5 doctype instead of XHTML?

* Plugins... interesting. I can look into that.

* OpenGraph tags -- those are probably a good idea as a *first* resort, I'd say. 
FWIW you might find the documentation on our WordPress theme interesting: 
<a href="https://openhatch.readthedocs.org/en/latest/internals/wordpress.html">https://openhatch.readthedocs.org/en/latest/internals/wordpress.html</a>

I think the next thing to try is to add opengraph tags to 
<a href="https://github.com/paulproteus/oh-wordpress-theme">https://github.com/paulproteus/oh-wordpress-theme</a> (as documented above). Feel 
free to try your hand at that if you find it interesting, or not if not.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3482">msg3482 (view)</a></th>
   <th>Author: vu2srk</th>
   <th>Date: 2012-11-05.16:46:23</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>This is seen in certain themes on wordpress. We could try any on of the 
following initially to see if it makes a difference:

*  Make sure the doctype is :
   &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>"&gt;

*  Try turning off all the plugins in wordpress and switch them back on one by 
one to see if any one of them causes the problem. There's an advertisement 
Management plugin that causes this problem

*  If nothing works, try integrating opengraph tags

Also while testing, we need to make sure we test it with a new link because 
facebook caches previews and we wouldn't be able to tell if anything is working 
even if it's actually fixed.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3481">msg3481 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2012-11-01.20:39:49</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Something has gone subtly, terribly, hilariously wrong.

You can see that we posted something called WORDPRESS_TITLE here: 
<a href="https://www.facebook.com/openhatch/posts/163261983817493">https://www.facebook.com/openhatch/posts/163261983817493</a></pre>
   </td>
  </tr>
 
</table>

<table class="history"><tr><th colspan="4" class="header">
History
</th></tr><tr>
<th>Date</th>
<th>User</th>
<th>Action</th>
<th>Args</th>
</tr>
<tr><td>2012-11-06&nbsp;23:20:35</td><td>paulproteus</td><td>set</td><td>status: need-review -> resolved<br />messages:
  + <a href="msg3487">msg3487</a></td></tr>
<tr><td>2012-11-05&nbsp;19:01:48</td><td>paulproteus</td><td>set</td><td>status: chatting -> need-review<br />messages:
  + <a href="msg3485">msg3485</a></td></tr>
<tr><td>2012-11-05&nbsp;18:10:26</td><td>paulproteus</td><td>set</td><td>messages:
  + <a href="msg3484">msg3484</a></td></tr>
<tr><td>2012-11-05&nbsp;17:43:34</td><td>paulproteus</td><td>set</td><td>nosy:
  + <a href="user563">vu2srk</a><br />messages:
  + <a href="msg3483">msg3483</a></td></tr>
<tr><td>2012-11-05&nbsp;16:46:24</td><td>vu2srk</td><td>set</td><td>status: unread -> chatting<br />messages:
  + <a href="msg3482">msg3482</a></td></tr>
<tr><td>2012-11-01&nbsp;20:39:49</td><td>paulproteus</td><td>create</td><td></td></tr>
</table>

</div>

</td>
</tr>

</table>



</body>
</html>

<!-- SHA: cef943195fefd743431d22c020eef27edd6255e1 -->
