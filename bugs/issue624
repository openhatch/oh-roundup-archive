<!-- dollarId: issue.item,v 1.4 2001/08/03 01:19:43 richard Exp dollar-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>
Issue 624: Project pages should have some anti-spam - Roundup issue tracker

</title>
<link rel="stylesheet" type="text/css" href="@@file/style.css">
<meta http-equiv="Content-Type"
      content="text/html; charset=utf-8" />

<script type="text/javascript">
submitted = false;
function submit_once() {
    if (submitted) {
        alert("Your request is being processed.\nPlease be patient.");
        event.returnValue = 0;    // work-around for IE
        return 0;
    }
    submitted = true;
    return 1;
}

function help_window(helpurl, width, height) {
    HelpWin = window.open('https://openhatch.org/bugs/' + helpurl, 'RoundupHelpWindow', 'scrollbars=yes,resizable=yes,toolbar=no,height='+height+',width='+width);
}
</script>



</head>
<body class="body">

<table class="body">

<tr>
 <td class="page-header-left"><a href="/" title="OpenHatch"><img src="/static/images/the-logo-bluegreen-87px.png" width="87" height="60" alt="openhatch" /></a></td>
 <td class="page-header-top">
   <div id="body-title">
     <h2>
 
 
 Issue624
 
</h2>
   </div>
   <div id="searchbox">
     <form method="GET" action="issue">
       <input type="hidden" name="@columns"
              value="id,activity,title,creator,assignedto,status,milestone" />
       <input type="hidden" name="@sort" value="activity" />
       <input type="hidden" name="@group" value="priority" />
       <input id="search-text" name="@search_text" size="10" />
       <input type="submit" id="submit" name="submit"
              value="Search" />
     </form>
  </div>
 </td>
</tr>

<tr>
 <td rowspan="2" valign="top" class="sidebar">
  

  <p class="classblock">
    <b>This month: 0.13.10</b><br>
    <a href="/wiki/0.13.10">Goals (in wiki)</a><br>
    <a href="milestone19?@template=open">Bug list</a>
  </p>

  <form method="POST" action="https://openhatch.org/bugs/">
   <p class="classblock">
    <b>Issues</b><br>
    
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,status,milestone&amp;assignedto=-1&amp;@group=priority&amp;@dispname=Show Unassigned&amp;@filter=status,assignedto&amp;@pagesize=50&amp;@startwith=0">Show Unassigned</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@dispname=Show All&amp;@filter=status&amp;@group=priority&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@pagesize=50&amp;@startwith=0">Show All</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@dispname=Show Bitesized&amp;keyword=1&amp;@group=priority&amp;@filter=status,keyword&amp;@pagesize=50&amp;@startwith=0">Show Bitesized</a><br>
    <a href="issue?@template=search">Search</a><br>
    <input type="submit" class="form-small"
           value="Show issue:"><input class="form-small" size="4" type="text" name="@number">
    <input type="hidden" name="@type" value="issue">
    <input type="hidden" name="@action" value="show">
   </p>
  </form>

  

  

  

   <p class="userblock">
    <b>Login</b><br>
    <a href="https://openhatch.org/account/login/?next=/bugs/issue624">Click here to login.</a>
   </p>

  
  <p class="userblock">
   <b>Help</b><br>
   <a href="http://www.roundup-tracker.org/docs.html">Bug tracker docs</a>
  </p>
 </td>
 <td>
  
  
 </td>
</tr>
<tr>
 <td class="content">





<div>

<form method="POST" name="itemSynopsis"
      onsubmit="return submit_once()"
      enctype="multipart/form-data" action="issue624">

<table class="form">
<tr>
 <th class="required">Title</th>
 <td colspan="3">Project pages should have some anti-spam</td>
</tr>

<tr>
 <th>Milestone</th>
 <td>later</td>
 <th class="required">Priority</th>
 <td>feature</td>
</tr>

<tr>
 <th>Waiting On</th>
 <td>
  
  
  
 </td>
 <th>Status</th>
 <td>in-progress</td>
</tr>

<tr>
 <th>Superseder</th>
 <td>
  
  
  
 </td>
 <th>Nosy List</th>
 <td>
  aldeka, palhmbs, paulproteus
  <br>
 </td>
</tr>

<tr>
 <th>Assigned To</th>
 <td>paulproteus</td>
 <th>Keywords</th>
 <td>
  
  
 </td>
</tr>







</table>
</form>



<p>Created on <b>2011-11-30.23:28:18</b> by <b>paulproteus</b>, last changed <b>2012-07-28.00:30:17</b> by <b>paulproteus</b>.</p>

<table class="files">
 <tr><th colspan="5" class="header">Files</th></tr>
 <tr>
  <th>File name</th>
  <th>Uploaded</th>
  <th>Type</th>
  <th>Edit</th>
  <th>Remove</th>
 </tr>
 <tr>
  <td>
   <a href="file515/despam_answers.py">despam_answers.py</a>
  </td>
  <td>
   <span>paulproteus</span>,
   <span>2012-07-28.00:27:04</span>
  </td>
  <td>text/x-python</td>
  <td>
  </td>
  <td>
   
  </td>
 </tr>
 <tr>
  <td>
   <a href="file426/two_akismet_services.py">two_akismet_services.py</a>
  </td>
  <td>
   <span>paulproteus</span>,
   <span>2011-11-30.23:37:03</span>
  </td>
  <td>text/x-python</td>
  <td>
  </td>
  <td>
   
  </td>
 </tr>
</table>

<table class="messages">
 <tr><th colspan="4" class="header">Messages</th></tr>
 
  <tr>
   <th><a href="msg3339">msg3339 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2012-07-28.00:30:10</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>I forgot to indicate how it's used:

First, create it:

&gt;&gt;&gt; baf = BadAnswerFinder()

Then, search for and remove spam:

&gt;&gt;&gt; baf.search_by_blacklist_text('chopard')
&gt;&gt;&gt; baf.delete_and_log()

Then do that again, as needed:

&gt;&gt;&gt; baf.search_by_blacklist_text('boots')
&gt;&gt;&gt; baf.delete_and_log()

Then make sure to actively save the XML logs it creates.

&gt;&gt;&gt; print ' '.join(baf.xml_log_files)
&gt;&gt;&gt; exit()

cp (the output of the print) ~/xml-logs/

This will give us a spam corpus, which will serve as useful if we eventually
write something more automated.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3338">msg3338 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2012-07-28.00:27:04</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>One more bit of code I can attach to this is something I just used today to
remove spam. It's interactive, and acts as a convenient tool assist.

Since this code actually logs the spam, we can eventually switch to a bayesian
version of this. That would be great.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2762">msg2762 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2011-12-04.17:23:27</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>I did some manual antispamming which worked well enough for now.

<a href="http://lists.openhatch.org/pipermail/devel/2011-December/002550.html">http://lists.openhatch.org/pipermail/devel/2011-December/002550.html</a> explains
one reasonable possible plan for doing automated filtering.

Since the problem is resolved as far as users can see because of the manual spam
searching, I'm marking these code changes as no longer "urgent."</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2744">msg2744 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2011-11-30.23:37:03</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>I just tested out Akismet and the TypePad antispam services.

On the one test spam I checked, both fail to mark it as spam.

I'm attaching the test script I used in case anyone wants to see it.

I also tested to see if the spam in my test corpus would be found by the spam
URI Blocklist ("SURBL"). It isn't.

Since outsourcing this to an API isn't working, I think we should use a Bayesian
approach. I'll work on that next.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2743">msg2743 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2011-11-30.23:28:17</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Right now, project pages like
<a href="http://openhatch.org/+projects/openSUSE-Weekly-News">http://openhatch.org/+projects/openSUSE-Weekly-News</a> are receiving automated
spam. This is embarrassing for the project, and also decreases the quality of
content on the site.

This ticket tracks specific anti-spam plans.</pre>
   </td>
  </tr>
 
</table>

<table class="history"><tr><th colspan="4" class="header">
History
</th></tr><tr>
<th>Date</th>
<th>User</th>
<th>Action</th>
<th>Args</th>
</tr>
<tr><td>2012-07-28&nbsp;00:30:17</td><td>paulproteus</td><td>set</td><td>messages:
  + <a href="msg3339">msg3339</a></td></tr>
<tr><td>2012-07-28&nbsp;00:27:08</td><td>paulproteus</td><td>set</td><td>files:
  + <a href="file515">despam_answers.py</a><br />messages:
  + <a href="msg3338">msg3338</a></td></tr>
<tr><td>2011-12-04&nbsp;17:23:27</td><td>paulproteus</td><td>set</td><td>priority: urgent -> feature<br />messages:
  + <a href="msg2762">msg2762</a><br />milestone: <a href="milestone13">0.11.11</a> -> <a href="milestone1">later</a></td></tr>
<tr><td>2011-11-30&nbsp;23:37:03</td><td>paulproteus</td><td>set</td><td>files:
  + <a href="file426">two_akismet_services.py</a><br />messages:
  + <a href="msg2744">msg2744</a></td></tr>
<tr><td>2011-11-30&nbsp;23:28:18</td><td>paulproteus</td><td>create</td><td></td></tr>
</table>

</div>

</td>
</tr>

</table>



</body>
</html>

<!-- SHA: cef943195fefd743431d22c020eef27edd6255e1 -->
