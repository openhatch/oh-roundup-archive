<!-- dollarId: issue.item,v 1.4 2001/08/03 01:19:43 richard Exp dollar-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>
Issue 871: Google Code bug importer API changes break our importer - Roundup issue tracker

</title>
<link rel="stylesheet" type="text/css" href="@@file/style.css">
<meta http-equiv="Content-Type"
      content="text/html; charset=utf-8" />

<script type="text/javascript">
submitted = false;
function submit_once() {
    if (submitted) {
        alert("Your request is being processed.\nPlease be patient.");
        event.returnValue = 0;    // work-around for IE
        return 0;
    }
    submitted = true;
    return 1;
}

function help_window(helpurl, width, height) {
    HelpWin = window.open('https://openhatch.org/bugs/' + helpurl, 'RoundupHelpWindow', 'scrollbars=yes,resizable=yes,toolbar=no,height='+height+',width='+width);
}
</script>



</head>
<body class="body">

<table class="body">

<tr>
 <td class="page-header-left"><a href="/" title="OpenHatch"><img src="/static/images/the-logo-bluegreen-87px.png" width="87" height="60" alt="openhatch" /></a></td>
 <td class="page-header-top">
   <div id="body-title">
     <h2>
 
 
 Issue871
 
</h2>
   </div>
   <div id="searchbox">
     <form method="GET" action="issue">
       <input type="hidden" name="@columns"
              value="id,activity,title,creator,assignedto,status,milestone" />
       <input type="hidden" name="@sort" value="activity" />
       <input type="hidden" name="@group" value="priority" />
       <input id="search-text" name="@search_text" size="10" />
       <input type="submit" id="submit" name="submit"
              value="Search" />
     </form>
  </div>
 </td>
</tr>

<tr>
 <td rowspan="2" valign="top" class="sidebar">
  

  <p class="classblock">
    <b>This month: 0.13.10</b><br>
    <a href="/wiki/0.13.10">Goals (in wiki)</a><br>
    <a href="milestone19?@template=open">Bug list</a>
  </p>

  <form method="POST" action="https://openhatch.org/bugs/">
   <p class="classblock">
    <b>Issues</b><br>
    
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,status,milestone&amp;assignedto=-1&amp;@group=priority&amp;@dispname=Show Unassigned&amp;@filter=status,assignedto&amp;@pagesize=50&amp;@startwith=0">Show Unassigned</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@dispname=Show All&amp;@filter=status&amp;@group=priority&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@pagesize=50&amp;@startwith=0">Show All</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@dispname=Show Bitesized&amp;keyword=1&amp;@group=priority&amp;@filter=status,keyword&amp;@pagesize=50&amp;@startwith=0">Show Bitesized</a><br>
    <a href="issue?@template=search">Search</a><br>
    <input type="submit" class="form-small"
           value="Show issue:"><input class="form-small" size="4" type="text" name="@number">
    <input type="hidden" name="@type" value="issue">
    <input type="hidden" name="@action" value="show">
   </p>
  </form>

  

  

  

   <p class="userblock">
    <b>Login</b><br>
    <a href="https://openhatch.org/account/login/?next=/bugs/issue871">Click here to login.</a>
   </p>

  
  <p class="userblock">
   <b>Help</b><br>
   <a href="http://www.roundup-tracker.org/docs.html">Bug tracker docs</a>
  </p>
 </td>
 <td>
  
  
 </td>
</tr>
<tr>
 <td class="content">





<div>

<form method="POST" name="itemSynopsis"
      onsubmit="return submit_once()"
      enctype="multipart/form-data" action="issue871">

<table class="form">
<tr>
 <th class="required">Title</th>
 <td colspan="3">Google Code bug importer API changes break our importer</td>
</tr>

<tr>
 <th>Milestone</th>
 <td>0.13.09</td>
 <th class="required">Priority</th>
 <td>urgent</td>
</tr>

<tr>
 <th>Waiting On</th>
 <td>
  
  
  
 </td>
 <th>Status</th>
 <td>resolved</td>
</tr>

<tr>
 <th>Superseder</th>
 <td>
  
  
  
 </td>
 <th>Nosy List</th>
 <td>
  ehashman, paulproteus, shaunduncan, sunu
  <br>
 </td>
</tr>

<tr>
 <th>Assigned To</th>
 <td>paulproteus</td>
 <th>Keywords</th>
 <td>
  
  
 </td>
</tr>







</table>
</form>



<p>Created on <b>2013-08-03.17:12:08</b> by <b>paulproteus</b>, last changed <b>2014-07-01.05:00:34</b> by <b>ehashman</b>.</p>



<table class="messages">
 <tr><th colspan="4" class="header">Messages</th></tr>
 
  <tr>
   <th><a href="msg4426">msg4426 (view)</a></th>
   <th>Author: ehashman</th>
   <th>Date: 2014-07-01.05:00:34</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Also merged the counterpart <a href="https://github.com/openhatch/oh-mainline/pull/246">https://github.com/openhatch/oh-mainline/pull/246</a> in
mainline. Unless this breaks, marking as closed.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg4412">msg4412 (view)</a></th>
   <th>Author: ehashman</th>
   <th>Date: 2014-06-26.08:09:11</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Finished epically long pair-code review, merged code. There are still some
outlying problems but this is essentially resolved.

Asheesh will review the oh-mainline commits, do a deploy, and that will close
this issue.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg4410">msg4410 (view)</a></th>
   <th>Author: ehashman</th>
   <th>Date: 2014-06-26.05:31:40</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Opened new PR <a href="https://github.com/openhatch/oh-bugimporters/pull/55">https://github.com/openhatch/oh-bugimporters/pull/55</a> in order to
get this merged ASAP with code review feedback</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg4262">msg4262 (view)</a></th>
   <th>Author: shaunduncan</th>
   <th>Date: 2014-04-21.17:08:49</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>I've submitted PRs for oh-mainline (<a href="https://github.com/openhatch/oh-">https://github.com/openhatch/oh-</a>
mainline/pull/246) and oh-bugimporters (<a href="https://github.com/openhatch/oh-">https://github.com/openhatch/oh-</a>
bugimporters/pull/50) to fix this.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg4247">msg4247 (view)</a></th>
   <th>Author: shaunduncan</th>
   <th>Date: 2014-04-17.17:05:17</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>I've been looking around a bit, and I'm going to be reworking some of the 
internals of the Google bugimporter so that it uses successive calls to pull CSV 
data directly from the issue tracker. I think this makes the most sense as the 
CSV contents can be controlled to give us most of the data we need, with one 
exception: the issue description. That will need to be scraped from the issue 
detail page.

Also, CSV will let us avoid dealing with potentially messy feed parsing for 
issue feeds that have little, if any, documentation.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg4230">msg4230 (view)</a></th>
   <th>Author: shaunduncan</th>
   <th>Date: 2014-04-16.15:17:42</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>ehashman turned this over to me</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3896">msg3896 (view)</a></th>
   <th>Author: ehashman</th>
   <th>Date: 2013-10-16.22:05:55</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Scraper for the google bugs will be based off the model in trac.py. HTML is not
too bad in terms of structure. 

Just need to get a chance to work on it. Hopefully should finish development in
the next couple weeks.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3874">msg3874 (view)</a></th>
   <th>Author: ehashman</th>
   <th>Date: 2013-10-05.16:16:23</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Fix is not so easy. Appears that /feeds/p/service/issueupdates/basic is also
deprecated, e.g.
<a href="http://code.google.com/feeds/p/jmonkeyengine/issueupdates/basic/53">http://code.google.com/feeds/p/jmonkeyengine/issueupdates/basic/53</a> gives a 404.

We will have to scrape the data.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3872">msg3872 (view)</a></th>
   <th>Author: ehashman</th>
   <th>Date: 2013-10-05.15:46:51</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Claiming this for a couple hours.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg3768">msg3768 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2013-08-03.17:12:07</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Per <a href="https://code.google.com/p/support/wiki/IssueTrackerAPI">https://code.google.com/p/support/wiki/IssueTrackerAPI</a> and 
<a href="http://googleblog.blogspot.com/2012/12/winter-cleaning.html">http://googleblog.blogspot.com/2012/12/winter-cleaning.html</a> , the code.google.com 
APIs that we rely on in oh-bugimporters to download bug data from Google Code now 
give HTTP status 404 for all requests.

We need, therefore, to reimplement the functionality of the bug importers via 
either scraping or the undocumented "issueupdates basic" API. 

The issueupdates API can be found by visiting a bug list like 
<a href="https://code.google.com/p/jmonkeyengine/issues/list?can=2&amp;q=label%3AProduct-jME3">https://code.google.com/p/jmonkeyengine/issues/list?can=2&amp;q=label%3AProduct-jME3</a> 
and then viewing HTML source, and finding this tag:

 &lt;link type="application/atom+xml" rel="alternate" 
href="/feeds/p/jmonkeyengine/issueupdates/basic"&gt;

I believe (but have not verified at all) that everything we do with the old 
Google Code Issues API works the same with issueupdates/basic; it's just that 
we'd have to adjust all the URLs that we request data from.

Luckily, this is something that anyone can do! <a href="http://oh-">http://oh-</a>
bugimporters.readthedocs.org/ has reasonably good documentation, and you could 
follow the example of the current google code import code. Your best bet for 
understanding how to make this change is to start by reading the existing code 
within <a href="https://github.com/openhatch/oh-bugimporters">https://github.com/openhatch/oh-bugimporters</a> that makes the Google Code 
importer work.

If you choose to do this, make sure to claim this bug by marking it as "Assigned 
To" yourself.</pre>
   </td>
  </tr>
 
</table>

<table class="history"><tr><th colspan="4" class="header">
History
</th></tr><tr>
<th>Date</th>
<th>User</th>
<th>Action</th>
<th>Args</th>
</tr>
<tr><td>2014-07-01&nbsp;05:00:34</td><td>ehashman</td><td>set</td><td>status: need-review -> resolved<br />messages:
  + <a href="msg4426">msg4426</a></td></tr>
<tr><td>2014-06-26&nbsp;08:09:33</td><td>ehashman</td><td>set</td><td>assignedto: <a href="user870">ehashman</a> -> <a href="user3">paulproteus</a></td></tr>
<tr><td>2014-06-26&nbsp;08:09:11</td><td>ehashman</td><td>set</td><td>messages:
  + <a href="msg4412">msg4412</a></td></tr>
<tr><td>2014-06-26&nbsp;05:31:40</td><td>ehashman</td><td>set</td><td>assignedto: <a href="user1074">shaunduncan</a> -> <a href="user870">ehashman</a><br />messages:
  + <a href="msg4410">msg4410</a></td></tr>
<tr><td>2014-04-21&nbsp;17:08:49</td><td>shaunduncan</td><td>set</td><td>status: in-progress -> need-review<br />messages:
  + <a href="msg4262">msg4262</a></td></tr>
<tr><td>2014-04-17&nbsp;17:05:17</td><td>shaunduncan</td><td>set</td><td>messages:
  + <a href="msg4247">msg4247</a></td></tr>
<tr><td>2014-04-16&nbsp;15:17:42</td><td>shaunduncan</td><td>set</td><td>assignedto: <a href="user870">ehashman</a> -> <a href="user1074">shaunduncan</a><br />messages:
  + <a href="msg4230">msg4230</a><br />nosy:
  + <a href="user1074">shaunduncan</a></td></tr>
<tr><td>2013-10-16&nbsp;22:05:55</td><td>ehashman</td><td>set</td><td>messages:
  + <a href="msg3896">msg3896</a></td></tr>
<tr><td>2013-10-05&nbsp;16:16:24</td><td>ehashman</td><td>set</td><td>status: chatting -> in-progress<br />messages:
  + <a href="msg3874">msg3874</a></td></tr>
<tr><td>2013-10-05&nbsp;15:46:51</td><td>ehashman</td><td>set</td><td>status: unread -> chatting<br />assignedto: <a href="user718">sunu</a> -> <a href="user870">ehashman</a><br />messages:
  + <a href="msg3872">msg3872</a><br />nosy:
  + <a href="user870">ehashman</a></td></tr>
<tr><td>2013-09-11&nbsp;23:04:00</td><td>brittag</td><td>set</td><td>milestone: <a href="milestone17">0.13.08</a> -> <a href="milestone18">0.13.09</a></td></tr>
<tr><td>2013-08-07&nbsp;00:54:32</td><td>paulproteus</td><td>set</td><td>milestone: <a href="milestone17">0.13.08</a></td></tr>
<tr><td>2013-08-06&nbsp;06:15:27</td><td>sunu</td><td>set</td><td>assignedto: <a href="user718">sunu</a><br />nosy:
  + <a href="user718">sunu</a></td></tr>
<tr><td>2013-08-03&nbsp;17:12:08</td><td>paulproteus</td><td>create</td><td></td></tr>
</table>

</div>

</td>
</tr>

</table>



</body>
</html>

<!-- SHA: cef943195fefd743431d22c020eef27edd6255e1 -->
