<!-- dollarId: issue.item,v 1.4 2001/08/03 01:19:43 richard Exp dollar-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>
Issue 437: Choice of text editors for "diff of directories" mission can cause errors - Roundup issue tracker

</title>
<link rel="stylesheet" type="text/css" href="@@file/style.css">
<meta http-equiv="Content-Type"
      content="text/html; charset=utf-8" />

<script type="text/javascript">
submitted = false;
function submit_once() {
    if (submitted) {
        alert("Your request is being processed.\nPlease be patient.");
        event.returnValue = 0;    // work-around for IE
        return 0;
    }
    submitted = true;
    return 1;
}

function help_window(helpurl, width, height) {
    HelpWin = window.open('https://openhatch.org/bugs/' + helpurl, 'RoundupHelpWindow', 'scrollbars=yes,resizable=yes,toolbar=no,height='+height+',width='+width);
}
</script>



</head>
<body class="body">

<table class="body">

<tr>
 <td class="page-header-left"><a href="/" title="OpenHatch"><img src="/static/images/the-logo-bluegreen-87px.png" width="87" height="60" alt="openhatch" /></a></td>
 <td class="page-header-top">
   <div id="body-title">
     <h2>
 
 
 Issue437
 
</h2>
   </div>
   <div id="searchbox">
     <form method="GET" action="issue">
       <input type="hidden" name="@columns"
              value="id,activity,title,creator,assignedto,status,milestone" />
       <input type="hidden" name="@sort" value="activity" />
       <input type="hidden" name="@group" value="priority" />
       <input id="search-text" name="@search_text" size="10" />
       <input type="submit" id="submit" name="submit"
              value="Search" />
     </form>
  </div>
 </td>
</tr>

<tr>
 <td rowspan="2" valign="top" class="sidebar">
  

  <p class="classblock">
    <b>This month: 0.13.10</b><br>
    <a href="/wiki/0.13.10">Goals (in wiki)</a><br>
    <a href="milestone19?@template=open">Bug list</a>
  </p>

  <form method="POST" action="https://openhatch.org/bugs/">
   <p class="classblock">
    <b>Issues</b><br>
    
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,status,milestone&amp;assignedto=-1&amp;@group=priority&amp;@dispname=Show Unassigned&amp;@filter=status,assignedto&amp;@pagesize=50&amp;@startwith=0">Show Unassigned</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@dispname=Show All&amp;@filter=status&amp;@group=priority&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@pagesize=50&amp;@startwith=0">Show All</a><br>
    <a href="issue?status=-1,1,2,3,4,5,6,7,9,10&amp;@sort=-activity&amp;@search_text=&amp;@columns=id,activity,title,creator,assignedto,status,milestone&amp;@dispname=Show Bitesized&amp;keyword=1&amp;@group=priority&amp;@filter=status,keyword&amp;@pagesize=50&amp;@startwith=0">Show Bitesized</a><br>
    <a href="issue?@template=search">Search</a><br>
    <input type="submit" class="form-small"
           value="Show issue:"><input class="form-small" size="4" type="text" name="@number">
    <input type="hidden" name="@type" value="issue">
    <input type="hidden" name="@action" value="show">
   </p>
  </form>

  

  

  

   <p class="userblock">
    <b>Login</b><br>
    <a href="https://openhatch.org/account/login/?next=/bugs/issue437">Click here to login.</a>
   </p>

  
  <p class="userblock">
   <b>Help</b><br>
   <a href="http://www.roundup-tracker.org/docs.html">Bug tracker docs</a>
  </p>
 </td>
 <td>
  
  
 </td>
</tr>
<tr>
 <td class="content">





<div>

<form method="POST" name="itemSynopsis"
      onsubmit="return submit_once()"
      enctype="multipart/form-data" action="issue437">

<table class="form">
<tr>
 <th class="required">Title</th>
 <td colspan="3">Choice of text editors for "diff of directories" mission can cause errors</td>
</tr>

<tr>
 <th>Milestone</th>
 <td>0.11.06</td>
 <th class="required">Priority</th>
 <td>bug</td>
</tr>

<tr>
 <th>Waiting On</th>
 <td>
  
  
  
 </td>
 <th>Status</th>
 <td>resolved</td>
</tr>

<tr>
 <th>Superseder</th>
 <td>
  
  
  
 </td>
 <th>Nosy List</th>
 <td>
  AFMac, jesstess, palhmbs, paulproteus
  <br>
 </td>
</tr>

<tr>
 <th>Assigned To</th>
 <td>AFMac</td>
 <th>Keywords</th>
 <td>
  
  
 </td>
</tr>







</table>
</form>



<p>Created on <b>2011-06-02.03:09:48</b> by <b>AFMac</b>, last changed <b>2011-06-06.22:23:05</b> by <b>paulproteus</b>.</p>

<table class="files">
 <tr><th colspan="5" class="header">Files</th></tr>
 <tr>
  <th>File name</th>
  <th>Uploaded</th>
  <th>Type</th>
  <th>Edit</th>
  <th>Remove</th>
 </tr>
 <tr>
  <td>
   <a href="file327/0001-Fix-to-issue-437-with-associated-unit-test-updates.patch">0001-Fix-to-issue-437-with-associated-unit-test-updates.patch</a>
  </td>
  <td>
   <span>AFMac</span>,
   <span>2011-06-05.18:24:18</span>
  </td>
  <td>text/x-patch</td>
  <td>
  </td>
  <td>
   
  </td>
 </tr>
</table>

<table class="messages">
 <tr><th colspan="4" class="header">Messages</th></tr>
 
  <tr>
   <th><a href="msg2052">msg2052 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2011-06-06.22:23:05</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>AFMac, this is a solid patch. I didn't expect the BOM... of course, who ever does.

You added some end-of-line whitespace.
<a href="http://sartak.org/2011/03/end-of-line-whitespace-in-vim.html">http://sartak.org/2011/03/end-of-line-whitespace-in-vim.html</a> provides some
information about this (I can see it in "git log -p" since I have git's color
mode on). I'll permit that to go in, this time, but please try to avoid it in
the future.

It's great that you added a test. The test is quite a reasonable one, and it
passes. Pusing and deploying!

This issue is a subtle one that I'm sure stumps many Windows users. I think it's
great that you addressed it.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2036">msg2036 (view)</a></th>
   <th>Author: AFMac</th>
   <th>Date: 2011-06-05.18:24:18</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Fix and unit test included in the patch.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2023">msg2023 (view)</a></th>
   <th>Author: AFMac</th>
   <th>Date: 2011-06-04.04:07:34</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>I've got the fix in place, and from all appearances it works fine.  Before I submit 
the patch, though, am going to try and add a unit test in accordance with the wiki 
suggestion for developing new code...that might take a little longer.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2021">msg2021 (view)</a></th>
   <th>Author: AFMac</th>
   <th>Date: 2011-06-04.00:09:06</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Looking more into the file structure, it appears that its potentially a UTF-8 BOM 
problem.  Specifically:  Windows Notepad add's the BOM, which are then caught via 
diff.  I still need to run a few files through to test/verify, but am thinking I 
can add an error handler to catch the BOM characters and throw a response 
suggesting the use of a different text editor.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2008">msg2008 (view)</a></th>
   <th>Author: paulproteus</th>
   <th>Date: 2011-06-02.13:26:55</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>Good point, Will!

We could provide this piece of advice in the error message we send back if you
provide a file that is correct except for line endings.

Alternately, we could put it in the mandatory setup instructions (but I'm
unenthusiastic about burdening users of non-Windows OSs with this instruction).

Anyway, whoever first submits a patch that achieves one of the two (whichever
one) will win the argument. Do-ocracy!</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2004">msg2004 (view)</a></th>
   <th>Author: willkahngreene</th>
   <th>Date: 2011-06-02.11:32:50</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>My wild guess is that it's line ending issues.  If that's the case, we could add
(assuming it isn't there already) an additional step to setting up the clone:

   $ git config --global core.autocrlf input

or:

   $ git config --global core.autocrlf true</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2002">msg2002 (view)</a></th>
   <th>Author: palhmbs</th>
   <th>Date: 2011-06-02.03:19:53</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>We should try to detect some of the crazy chars if there is an error - and give
a better error message.</pre>
   </td>
  </tr>
 
 
  <tr>
   <th><a href="msg2001">msg2001 (view)</a></th>
   <th>Author: AFMac</th>
   <th>Date: 2011-06-02.03:09:48</th>
   <th>
    
   </th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    <pre>In my first run through the "Aubergine --&gt; Eggplant" mission, all changes were 
made via Windows' 'Notepad' app.  Turns out that this introduces some strange 
characters once the diff is run, which in turn prevents the user from completing 
the mission.  See <a href="http://pastebin.com/DW1AcMfm,">http://pastebin.com/DW1AcMfm,</a> line 6 for an example.

When changes were made via either Notepad++ or Wordpad, no problems were seen, 
and the mission was passed without issue.  Might be useful to either put a note 
up warning folks away from Notepad, or put some error handling that would notice 
the wonky characters.</pre>
   </td>
  </tr>
 
</table>

<table class="history"><tr><th colspan="4" class="header">
History
</th></tr><tr>
<th>Date</th>
<th>User</th>
<th>Action</th>
<th>Args</th>
</tr>
<tr><td>2011-06-06&nbsp;22:23:05</td><td>paulproteus</td><td>set</td><td>status: need-review -> resolved<br />messages:
  + <a href="msg2052">msg2052</a></td></tr>
<tr><td>2011-06-05&nbsp;18:24:18</td><td>AFMac</td><td>set</td><td>status: in-progress -> need-review<br />files:
  + <a href="file327">0001-Fix-to-issue-437-with-associated-unit-test-updates.patch</a><br />messages:
  + <a href="msg2036">msg2036</a></td></tr>
<tr><td>2011-06-04&nbsp;04:07:34</td><td>AFMac</td><td>set</td><td>status: chatting -> in-progress<br />assignedto: <a href="user156">AFMac</a><br />messages:
  + <a href="msg2023">msg2023</a></td></tr>
<tr><td>2011-06-04&nbsp;00:09:06</td><td>AFMac</td><td>set</td><td>messages:
  + <a href="msg2021">msg2021</a></td></tr>
<tr><td>2011-06-02&nbsp;13:26:55</td><td>paulproteus</td><td>set</td><td>messages:
  + <a href="msg2008">msg2008</a></td></tr>
<tr><td>2011-06-02&nbsp;11:32:50</td><td>willkahngreene</td><td>set</td><td>messages:
  + <a href="msg2004">msg2004</a></td></tr>
<tr><td>2011-06-02&nbsp;03:19:54</td><td>palhmbs</td><td>set</td><td>status: unread -> chatting<br />nosy:
  + <a href="user42">palhmbs</a><br />priority: feature -> bug<br />messages:
  + <a href="msg2002">msg2002</a><br />milestone: <a href="milestone9">0.11.06</a></td></tr>
<tr><td>2011-06-02&nbsp;03:18:32</td><td>jesstess</td><td>set</td><td>nosy:
  + <a href="user12">jesstess</a></td></tr>
<tr><td>2011-06-02&nbsp;03:09:48</td><td>AFMac</td><td>create</td><td></td></tr>
</table>

</div>

</td>
</tr>

</table>



</body>
</html>

<!-- SHA: cef943195fefd743431d22c020eef27edd6255e1 -->
